import O from"./SortMenu.3c7a2347.js";import P from"./Pagination.9afbc830.js";import{B as o,f as n,T as F,u as T,D as j,r as $,g as A,N as M,o as d,c as v,w as C,a as N,$ as D,d as R,F as S,e as E,L as U,l as V,i as L}from"./entry.0a92484f.js";import{h as z}from"./query.16828b1f.js";import{u as I}from"./asyncData.63291627.js";import{u as W}from"./root.dae782a6.js";import"./preview.befd0c73.js";function G(c,t,g){var q;const[a={},i]=typeof t=="string"?[{},t]:[t,g],e=o(()=>{let m=c;return typeof m=="function"&&(m=m()),n(m)}),u=a.key||z([i,((q=n(a.method))==null?void 0:q.toUpperCase())||"GET",n(a.baseURL),typeof e.value=="string"?e.value:"",n(a.params||a.query)]);if(!u||typeof u!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+u);if(!c)throw new Error("[nuxt] [useFetch] request is missing.");const b=u===i?"$f"+u:u;if(!a.baseURL&&typeof e.value=="string"&&e.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:y,lazy:h,default:w,transform:k,pick:s,watch:f,immediate:p,...l}=a,_=F({...l,cache:typeof a.cache=="boolean"?void 0:a.cache}),x={server:y,lazy:h,default:w,transform:k,pick:s,immediate:p,watch:f===!1?[]:[_,e,...f||[]]};let r;return I(b,()=>{var B;return(B=r==null?void 0:r.abort)==null||B.call(r),r=typeof AbortController<"u"?new AbortController:{},typeof e.value=="string"&&e.value.startsWith("/"),(a.$fetch||globalThis.$fetch)(e.value,{signal:r.signal,..._})},x)}const K={class:"text-center"},Q={__name:"List",props:{addBtn:{type:Boolean,required:!1,default:!1},type:{type:String,default:"",required:!0},layout:{type:Object,required:!1,default:()=>({cols:12,xl:12})},pagination:{type:Object,required:!1,default:()=>({})},addButton:{type:Boolean,required:!1,default:!1},items:[Object]},setup(c){const t=c,{$i18n:g}=L();T();const a=L(),i=s=>s&&s.charAt(0).toUpperCase()+s.slice(1),e=W();j(!0);const u=o(()=>$(i(e[t.type].view))),b=o(()=>$((i(t.type)+i(e[t.type].view)+"Item").toString())),y=A();o(()=>e[t.type].total);const h=o(()=>e[t.type].numberOfPages),w=o(()=>+e[t.type].page);o(()=>e[t.type].sortBy),o(()=>e[t.type].sortDesc[0]!=="asc"?[!1]:[!0]),o(()=>e[t.type].filtersCount);const k=o(()=>e[t.type].items);return o({get(){return e[t.type].itemsPerPage},set(s){e.updateItemsPerPage({itemsPerPage:s,type:t.type}),a.$vuetify.goTo(0)}}),o({get(){return e[t.type].search},set(s){debouncedSearch(s)}}),o({get(){return e[t.type].display},set(s){e.updateDisplay({display:s,type:t.type}),a.$vuetify.goTo(0)}}),M(()=>{var p,l;const{type:s,source:f}=t;e.loadRouteQuery(s),console.log("Mounted list"),e[s].filtersCount>0||y.query.filters&&Object.keys(y.query.filters).length>0||((l=(p=y.query)==null?void 0:p.search)==null?void 0:l.length)>0,e.update(s,g.locale.value,f)}),G(async()=>{e.update(t.type,g.locale.value)},"$ohbjj0yiNM"),(s,f)=>{const p=O,l=P,_=$("v-container");return d(),v(_,null,{default:C(()=>[N(p,{type:c.type},null,8,["type"]),(d(),v(D("ListViews"+n(u)),null,{default:C(()=>[(d(!0),R(S,null,E(n(k),(x,r)=>(d(),v(D(n(b)),{item:x,key:r},null,8,["item"]))),128))]),_:1})),U("div",K,[n(h)>1?(d(),v(l,{key:0,type:c.type,color:"black",large:"","current-page":n(w),"total-pages":n(h),"page-padding":1,"page-gap":2,"hide-prev-next":!1},null,8,["type","current-page","total-pages"])):V("",!0)])]),_:1})}}},ae=Q;export{ae as default};
